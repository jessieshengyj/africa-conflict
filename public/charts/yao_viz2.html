<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "hconcat": [{"mark": {"type": "bar"}, "encoding": {"color": {"condition": {"param": "param_6", "field": "ACTOR2", "type": "nominal"}, "value": "lightgray"}, "tooltip": [{"field": "ACTOR1", "type": "nominal"}, {"field": "ACTOR2", "type": "nominal"}, {"aggregate": "sum", "field": "FATALITIES", "type": "quantitative"}, {"field": "incidents", "type": "quantitative"}], "x": {"field": "incidents", "type": "quantitative"}, "y": {"field": "ACTOR1", "sort": "-x", "type": "nominal"}}, "height": 400, "name": "view_2", "title": "Top 10 Frequent Actors in the Country", "transform": [{"filter": {"param": "param_5"}}, {"filter": "(datum.YEAR === param_4)"}, {"aggregate": [{"op": "count", "as": "incidents"}], "groupby": ["ACTOR1", "ACTOR2"]}, {"window": [{"op": "rank", "field": "incidents", "as": "rank"}], "sort": [{"field": "incidents", "order": "descending"}]}, {"filter": "(datum.rank <= 10)"}], "width": 350}, {"mark": {"type": "arc"}, "encoding": {"color": {"field": "EVENT_TYPE", "title": "Event Type", "type": "nominal"}, "theta": {"aggregate": "count", "type": "quantitative"}, "tooltip": [{"field": "EVENT_TYPE", "type": "nominal"}, {"field": "FATALITIES", "type": "quantitative"}, {"aggregate": "count", "type": "quantitative"}]}, "height": 300, "title": "Conflict Breakdown for Actor 1 & 2", "transform": [{"filter": {"param": "param_6"}}, {"filter": {"param": "param_5"}}, {"filter": "(datum.YEAR === param_4)"}], "width": 300}], "data": {"url": "yao-data.json"}, "params": [{"name": "param_4", "bind": {"input": "range", "max": 2017.0, "min": 1997.0, "name": "Year", "step": 1}, "value": 1997.0}, {"name": "param_5", "select": {"type": "point", "fields": ["COUNTRY"]}, "bind": {"input": "select", "options": ["Algeria", "Angola", "Benin", "Botswana", "Burkina Faso", "Burundi", "Cameroon", "Central African Republic", "Chad", "Democratic Republic of Congo", "Djibouti", "Egypt", "Equatorial Guinea", "Eritrea", "Ethiopia", "Gabon", "Gambia", "Ghana", "Guinea", "Guinea-Bissau", "Ivory Coast", "Kenya", "Lesotho", "Liberia", "Libya", "Madagascar", "Malawi", "Mali", "Mauritania", "Morocco", "Mozambique", "Mozambique ", "Namibia", "Niger", "Nigeria", "Republic of Congo", "Rwanda", "Senegal", "Sierra Leone", "Somalia", "South Africa", "South Sudan", "Sudan", "Swaziland", "Tanzania", "Togo", "Tunisia", "Uganda", "Zambia", "Zimbabwe"], "name": "Country: "}, "views": ["view_2"]}, {"name": "param_6", "select": {"type": "point", "fields": ["ACTOR1", "ACTOR2"]}, "views": ["view_2"]}], "resolve": {"scale": {"color": "independent"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json"};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>